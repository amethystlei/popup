!function($,e,t,o){function n(o){var n={closeClass:"pop-close",targetClass:"popup",targetPrefix:""},p={popUp:{duration:300,easing:"ease-in"},shade:{duration:300,easing:"ease-in"}},r={popUp:{opacity:.8},shade:{opacity:.8}},s=$.extend({position:"center",animation:p,aniProperties:r,isScrollMove:!1,tmpl:n,zIndex:2,autoPop:!1,shade:!0,destory:!1},o),l=".shade { opacity: 0; position: absolute; top: 0; left: 0; bottom: 0; right: 0; height: 100%; z-index: 1; background: rgba(0, 0, 0, .8) center center no-repeat; display: none; -webkit-user-select: none; -webkit-user-drag: none; } .pop-wrapper { opacity: 0; position: absolute; top: 0; right: 0; bottom: 0; left: 0; display: -webkit-box; display: -ms-box; display: -moz-box; display: -o-box; z-index: 0; display: none; } .pop-content { background: #F7F7F6; border: 1px solid rgba(0, 0, 0, 0.25); border-radius: 3px; position: relative; z-index: 999; -webkit-user-select: none; -webkit-user-drag: none; } .pop-close { font-size: 1.2em; border-radius: 1em; color: #000; position:absolute; right: -0.5em; top:-0.5em; background: #F7F7F6; width:1.2em; line-height:1.2em; text-align:center; } .pop-close:hover { color: red; } .pop-doc { padding: 8px 8px 12px; text-align:center; } .pop-title { height: 50px; line-height: 50px; font-size: 16px; text-align: center; background: #348DA7; color: #fff; font-weight: 700; -webkit-border-radius: 3px 3px 0 0; }",c=$("#shade"),d=$(t.body).prepend("<style>"+i(l,s)+"</style>"),g,b,m,u="";return s.shade&&!c.length&&(c=$('<div id="shade" class="shade" style=""></div>').appendTo(d)),$.isPlainObject(s.tmpl)&&(s.tmpl.targetPrefix&&(u=s.tmpl.targetPrefix),s.tmpl.closeClass&&(m=u+s.tmpl.closeClass),s.tmpl.targetClass&&(b=u+s.tmpl.targetClass,$("."+b).wrap('<div class="pop-wrapper"></div>'))),g=$(".pop-wrapper").appendTo(d),$.extend(g,{pop:function(){s.animation?($.isFunction(s.animation.popUp)?s.animation.popUp(g):g.css({display:"-webkit-box","z-index":s.zIndex||2}).animate($.extend(r.popUp,s.aniProperties.popUp),$.extend(p.popUp,s.animation.popUp)),$.isFunction(s.animation.shade)&&s.shade?s.animation.shade(c):c.css({display:"block"}).animate($.extend(r.shade,s.aniProperties.shade),$.extend(p.shade,s.animation.shade)),s.isScrollMove||$(e).on("scroll,touchmove",a)):(s.shade&&c.show(),g.css({display:"-webkit-box","z-index":s.zIndex||2,opacity:.8}))},destroy:function(){c.attr("style",""),g.attr("style",""),s.isScrollMove||$(e).off("scroll,touchmove",a),s.destory&&$.isFunction(s.destory)&&s.destory(g,c)}}),g.on("click",function(e){$(e.target).closest("."+u+"pop-content").length&&e.target.className!==m||g.destroy()}),s.autoPop&&g.pop(),g}function a(e){e.preventDefault()}function i(e,t){e+=".pop-wrapper {";var o="";switch(t.tmpl.targetPrefix&&(o=t.tmpl.targetPrefix),t.position){case"left-top":e+=p("box-align: start;")+"} ."+o+"pop-content{ margin-right: auto; }";break;case"top-center":e+=p("box-align: start;")+"} ."+o+"pop-content{ margin-right: auto; margin-left: auto; }";break;case"right-top":e+=p("box-align: start;")+"} ."+o+"pop-content{ margin-left: auto; }";break;case"right-center":e+=p("box-align: center;")+"} ."+o+"pop-content{ margin-left: auto; }";break;case"right-bottom":e+=p("box-align: end;")+"} ."+o+"pop-content{ margin-left: auto; }";break;case"bottom-center":e+=p("box-align: end;")+"} ."+o+"pop-content{ margin-right: auto; margin-left: auto; }";break;case"left-bottom":e+=p("box-align: end;")+"} ."+o+"pop-content{ margin-right: auto; }";break;case"left-center":e+=p("box-align: center;")+"} ."+o+"pop-content{ margin-right: auto; }";break;default:e+=p("box-align: center;")+"} ."+o+"pop-content{ margin-left: auto; margin-right: auto;}"}return e}function p(e){return"-webkit-"+e+"-ms-"+e+"-moz-"+e+"-o-"+e}$.extend($,{popUp:n})}(Zepto||jQuery,window,document);